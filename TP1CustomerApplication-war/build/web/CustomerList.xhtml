<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "htth://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Liste des clients</title>
    </h:head>
    <h:body>        
        
        <h1><h:outputText value="List"/></h1>
        <p:dataTable value="#{customerMBean.customers}" var="item"
             emptyMessage="Aucun client avec ce critÃ¨re"
             widgetVar="customerTable"
             paginator="true"
             rows="10">
            <f:facet name="header">
                <p:outputPanel>
                   <h:outputText value="Recherche dans tous les champs de recherche"/>
                   <p:inputText id="globalFilter" onkeyup="PF('customerTable').filter()"
                                style="width:150px"/>
                </p:outputPanel>
             </f:facet>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="CustomerId"/>
                </f:facet>
                <h:link outcome="CustomerDetails?idCustomer=#{item.customerId}" 
             value="#{item.customerId}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Name"/>
                </f:facet>
                <h:outputText value="#{item.name}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Addressline1"/>
                </f:facet>
                <h:outputText value="#{item.addressline1}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Addressline2"/>
                </f:facet>
                <h:outputText value="#{item.addressline2}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="City"/>
                </f:facet>
                <h:outputText value="#{item.city}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="State"/>
                </f:facet>
                <h:outputText value="#{item.state}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Phone"/>
                </f:facet>
                <h:outputText value="#{item.phone}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Fax"/>
                </f:facet>
                <h:outputText value="#{item.fax}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Email"/>
                </f:facet>
                <h:outputText value="#{item.email}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="CreditLimit"/>
                </f:facet>
                <h:outputText value="#{item.creditLimit}"/>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="DiscountCode"/>
                </f:facet>
                <h:outputText value="#{item.discountCode.discountCode} : #{item.discountCode.rate} %"/>
            </p:column>
        </p:dataTable>
    </h:body>
</html>

